<div class="row mt-3">
  <div class="card shadow-sm p-4 mb-4">
    <div class="mb-3">
      <label for="folderPath" class="form-label">Fichiers trouvés à partir de :</label>
      <input type="text" id="folderPath" class="form-control" [value]="folderPath()" disabled>
    </div>

    <div class="mb-3">
      <h6>Liste des médias :</h6>
      <div class="list-group">
        <button class="list-group-item list-group-item-action"
                [class.active]="!mediaFile()?.videoId"
                (click)="onMediaClick(null)">
          Ne rien afficher
        </button>
        <button *ngFor="let file of files()"
                class="list-group-item list-group-item-action"
                [class.active]="file === mediaFile()?.videoId"
                (click)="onMediaClick(file)">
          {{ file }}
        </button>
      </div>
    </div>

    <div style="position: relative; width: 100%; max-width: 800px; margin: auto;">

      @if(mediaType() === MediaType.VIDEO){
        <video #myVideo
               controls
               [src]="mediaPath()"
               (play)="playVideo()"
               (pause)="pauseVideo()"
               (seeked)="onTimeUpdate()"
               (ratechange)="onRateChange()"
               style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.3);">
        </video>
      }

      @if(mediaType() === MediaType.IMAGE){
        <img [src]="mediaPath()"
             alt="Selected Media"
             class="mw-50 object-fit-contain rounded shadow">
      }
    </div>
  </div>
</div>
